{"version":3,"sources":["actions/types.js","apis/users.js","actions/usersActions.js","history.js","components/Header.js","apis/imdb.js","actions/imbdMoviesActions.js","components/Search.js","components/Vote.js","images/logo.png","components/Welcome.js","components/Home.js","apis/top10.js","actions/top10Actions.js","components/LoginForm.js","apis/movies.js","actions/appMovies.js","components/MovieDisplay.js","components/Movie.js","components/MovieList.js","components/SearchResults.js","components/SignUpForm.js","components/TopMovieDisplay.js","components/TopMovies.js","components/UserTop10Display.js","components/Body.js","components/App.js","reducers/imdbReducer.js","reducers/movieReducer.js","reducers/userReducer.js","reducers/authReducer.js","reducers/appMoviesReducer.js","reducers/appTop10Reducer.js","reducers/top10AppMoviesReducer.js","reducers/userTop10Reducer.js","reducers/errorReducer.js","reducers/index.js","index.js","apis/localStorage.js"],"names":["FETCH_USERS","UPDATE_USER","DELETE_USER","REGISTER","LOGIN","LOG_OUT","VOTE_MOVIE_SUCCESS","VOTE_MOVIE_ERROR","GET_TOP_MOVIES","ADD_VOTE","GET_ALL_APP_MOVIES","axios","create","baseURL","fetchUserByEmail","email","a","user","users","get","response","data","length","find","createBrowserHistory","Header","logOut","props","localStorage","clear","setTimeout","history","push","Navbar","className","expand","Container","Brand","href","Toggle","Collapse","id","Nav","Link","as","NavLink","exact","to","activeStyle","color","this","loggedInUser","isSignedIn","onClick","React","Component","connect","state","type","headers","searchMovies","keyword","page","dispatch","imdb","params","toString","s","console","log","Error","payload","Search","err","fetchMovie","Promise","resolve","reject","i","plot","then","Title","renderInput","formProps","style","width","margin","Form","Group","Label","Control","input","onSubmit","values","title","handleSubmit","Field","name","component","wrappedForm","reduxForm","form","movies","imdbMovies","Vote","useSelector","token","Button","variant","Welcome","src","logo","alt","Home","getTodayDate","today","Date","getFullYear","getMonth","getDate","fetchCurrentTop10OfUser","userId","date","top10","getTop10s","LoginForm","passwordShown","togglePassword","setState","showErrors","meta","touched","error","label","InputGroup","placeholder","icon","Append","Text","Feedback","display","formValues","login","createTop10OfDay","toast","warning","username","validate","errors","password","test","post","accessToken","votes","res","voteMovieError","getAllAppMovies","MovieDisplay","movieVotes","userTop10Votes","runMoreRequests","doesMovieExistInAppMovies","some","ele","movieAlreadyVoted","movie","getMovieById","userTop10VoteSucceeded","currentTopListOfUser","voteFirstTime","voteMovie","renderMessageFirstVoted","voteAgain","Votes","addVote","renderMessageVotedAgain","vote","goBack","addVoteToTop10","userTop10","undefined","renderVoteSuccess","success","renderError","textAlign","renderMovie","Poster","Year","Director","Actors","Writer","Genre","Awards","Plot","ownProps","match","selectedMovie","usersTop10s","allUserTop10","imdbID","Object","keys","top10OfUser","put","Movie","Card","Img","Body","MovieList","renderedList","map","index","SearchResults","renderMovieList","showMore","newPage","parseInt","SignUpForm","emailExists","doesEmailExist","register","renderHidden","value","fetchUsers","password2","TopMovieDisplay","position","TopMovies","getTopMovies","top10AppMovies","sortedList","sort","b","slice","UserTop10Display","userMovies","getMovieData","userTop10Titles","allAppMovies","appMovies","j","allTop10s","path","App","imdbReducer","action","initialState","movieReducer","userReducer","filter","authReducer","appMoviesReducer","newState","appTop10Reducer","top10AppMoviesReducer","userTop10Reducer","errorReducer","combineReducers","formReducer","persistedState","serializedState","getItem","JSON","parse","loadState","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","trace","traceLimit","compose","store","createStore","reducers","applyMiddleware","thunk","subscribe","stringify","setItem","saveState","getState","ReactDOM","render","document","querySelector"],"mappings":"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","file":"static/js/main.be42f5a1.chunk.js","sourcesContent":["export const FETCH_USERS = \"FETCH_USERS\";\r\nexport const FETCH_USER = \"FETCH_USER\";\r\nexport const UPDATE_USER = \"UPDATE_USER\";\r\nexport const DELETE_USER = \"DELETE_USER\";\r\nexport const SIGN_OUT = \"SIGN_OUT\";\r\nexport const REGISTER = \"REGISTER\";\r\nexport const LOGIN = \"LOGIN\";\r\nexport const LOG_OUT = \"LOG_OUT\";\r\nexport const VOTE_MOVIE_SUCCESS = \"VOTE_MOVIE_SUCCESS\";\r\nexport const VOTE_MOVIE_ERROR = \"VOTE_MOVIE_ERROR\";\r\nexport const GET_TOP_MOVIES = \"GET_TOP_MOVIES\";\r\nexport const ADD_VOTE = \"ADD_VOTE\";\r\nexport const ADD_VOTE_TO_USER = \"ADD_VOTE_TO_USER\";\r\nexport const GET_ALL_APP_MOVIES = \"GET_ALL_APP_MOVIES\";\r\nexport const SEARCH_MOVIES = \"SEARCH_MOVIES\";\r\n","import axios from \"axios\";\r\n\r\nexport default axios.create({\r\n  baseURL: \"http://localhost:3001\",\r\n});\r\n","import {\r\n  FETCH_USERS,\r\n  UPDATE_USER,\r\n  DELETE_USER,\r\n  REGISTER,\r\n  LOGIN,\r\n  LOG_OUT,\r\n} from \"./types\";\r\nimport users from \"../apis/users\";\r\n\r\nexport const fetchUserByEmail = async (email) => {\r\n  let user = {};\r\n\r\n  const response = await users.get(\"/users\");\r\n  if (response.data.length > 0) {\r\n    user = response.data.find((user) => user.email === email);\r\n  }\r\n  return user;\r\n};\r\n\r\nexport const login = (formValues) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const user = await fetchUserByEmail(formValues.email);\r\n      const response = await users.post(\"/login\", { ...formValues });\r\n\r\n      dispatch({\r\n        type: LOGIN,\r\n        payload: {\r\n          email: formValues.email,\r\n          username: user.username,\r\n          id: user.id,\r\n          token: response.data.accessToken,\r\n          isSignedIn: true,\r\n        },\r\n      });\r\n    } catch (err) {\r\n      if (err.response.data === \"Cannot find user\") {\r\n        dispatch({\r\n          type: \"INCORRECT_USERNAME_OR_PASSWORD\",\r\n          payload: err.response.data,\r\n        });\r\n      }\r\n    }\r\n  };\r\n};\r\n\r\nexport const register = (formValues) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const response = await users.post(\"/users\", {\r\n        email: formValues.email,\r\n        password: formValues.password,\r\n        username: formValues.username,\r\n      });\r\n\r\n      dispatch({\r\n        type: REGISTER,\r\n        payload: {\r\n          email: formValues.email,\r\n          username: formValues.username,\r\n          token: null,\r\n          isSignedIn: false,\r\n        },\r\n      });\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n};\r\n\r\nexport const logOut = () => {\r\n  localStorage.clear();\r\n  return {\r\n    type: LOG_OUT,\r\n  };\r\n};\r\n\r\nexport const fetchUsers = () => {\r\n  try {\r\n    return async (dispatch) => {\r\n      const response = await users.get(\"/users\");\r\n\r\n      dispatch({\r\n        type: FETCH_USERS,\r\n        payload: response.data,\r\n      });\r\n    };\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const updateUser = (email, formValues) => {\r\n  return async (dispatch, getState) => {\r\n    //const { userId } = getState().auth;\r\n    const response = await users.patch(`/users/${email}`, formValues);\r\n\r\n    dispatch({\r\n      type: UPDATE_USER,\r\n      payload: response.data,\r\n    });\r\n    //    history.push(\"/\");\r\n  };\r\n};\r\n\r\nexport const deleteUser = (email) => {\r\n  return async (dispatch) => {\r\n    await users.delete(`/users/${email}`);\r\n\r\n    dispatch({\r\n      type: DELETE_USER,\r\n      payload: email,\r\n    });\r\n\r\n    //  history.push(\"/\");\r\n  };\r\n};\r\n","import { createBrowserHistory } from \"history\";\r\n\r\nexport default createBrowserHistory();\r\n","import React from \"react\";\r\nimport { Navbar, Nav, Container} from \"react-bootstrap\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport \"./Header.css\";\r\nimport { connect } from \"react-redux\";\r\nimport { logOut } from \"../actions/usersActions\";\r\nimport history from \"../history\";\r\n\r\nclass Header extends React.Component {\r\n  logOut = () => {\r\n    this.props.logOut();\r\n    localStorage.clear();\r\n    setTimeout(() => history.push(\"/\"), 2000);\r\n  };\r\n  render() {\r\n    return (\r\n      <Navbar className=\"navbar nav-link\" expand=\"lg\">\r\n        <Container>\r\n          <Navbar.Brand href=\"#\"></Navbar.Brand>\r\n          <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n          <Navbar.Collapse id=\"basic-navbar-nav\">\r\n            <Nav className=\"me-auto navs\">\r\n              <Nav.Link\r\n                as={NavLink}\r\n                exact\r\n                to=\"/\"\r\n                className=\"nav-link\"\r\n                activeStyle={{ color: \"rgb(245, 222, 20)\" }}\r\n              >\r\n                Home\r\n              </Nav.Link>\r\n\r\n              {this.props.loggedInUser.isSignedIn ? (\r\n                <Nav.Link className=\"nav-link\">\r\n                  <button className=\"logout\" onClick={this.logOut}>\r\n                    Log Out\r\n                  </button>\r\n                </Nav.Link>\r\n              ) : (\r\n                <Nav.Link\r\n                  as={NavLink}\r\n                  to=\"/Login\"\r\n                  className=\"nav-link\"\r\n                  activeStyle={{ color: \"rgb(245, 222, 20)\" }}\r\n                >\r\n                  SignIn\r\n                </Nav.Link>\r\n              )}\r\n            </Nav>\r\n          </Navbar.Collapse>\r\n        </Container>\r\n      </Navbar>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    loggedInUser: state.loggedInUser,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, { logOut })(Header);\r\n","import axios from \"axios\";\r\n\r\nexport default axios.create({\r\n  baseURL: \"https://movie-database-imdb-alternative.p.rapidapi.com\",\r\n\r\n  headers: {\r\n    \"x-rapidapi-key\": \"ed45f75767mshfdddb27fe2b71a6p1453c4jsn9e40c13eb6e0\",\r\n    \"x-rapidapi-host\": \"movie-database-imdb-alternative.p.rapidapi.com\",\r\n  },\r\n});\r\n","import imdb from \"../apis/imdb\";\r\n\r\n// export const searchMoviesSuccess = (data) => ({\r\n//   type: \"SEARCH_MOVIES_SUCCESS\",\r\n//   payload: data,\r\n// });\r\n\r\nexport const searchMoviesError = (error) => ({\r\n  type: \"SEARCH_MOVIES_ERROR\",\r\n  payload: error,\r\n});\r\n\r\n// export const searchMovies = (keyword, page) => (dispatch) => {\r\n//   return new Promise((resolve, reject) => {\r\n//     imdb\r\n//       .get(\"\", {\r\n//         params: {\r\n//           page: page.toString(),\r\n//           s: keyword,\r\n//         },\r\n//       })\r\n//       .then((response) => {\r\n//         console.log(\"HELLO\");\r\n//         if (response.Search) {\r\n//           dispatch(searchMoviesSuccess(response.Search));\r\n//           resolve();\r\n//         }\r\n//         if (response.data.Error) {\r\n//           console.log(response.data.Error);\r\n//           dispatch(searchMoviesError(response.data.Error));\r\n//           reject();\r\n//         }\r\n//       });\r\n//   });\r\n// };\r\n\r\nexport const searchMovies = (keyword, page) => {\r\n  try {\r\n    return async (dispatch) => {\r\n      const response = await imdb.get(\"\", {\r\n        params: {\r\n          page: page.toString(),\r\n          s: keyword,\r\n        },\r\n      });\r\n      console.log(response);\r\n      if (response.data.Error) {\r\n        dispatch({\r\n          type: \"MOVIE_NOT_FOUND\",\r\n          payload: response.data.Error,\r\n        });\r\n      }\r\n\r\n      if (response.data.Search) {\r\n        dispatch({\r\n          type: \"SEARCH_MOVIES_SUCCESS\",\r\n          payload: response.data.Search,\r\n        });\r\n      }\r\n    };\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n\r\nexport const fetchMovieSuccess = (data) => ({\r\n  type: \"FETCH_MOVIE_SUCCESS\",\r\n  payload: data,\r\n});\r\n\r\nexport const fetchMovieError = (error) => ({\r\n  type: \"FETCH_MOVIE_ERROR\",\r\n  payload: error,\r\n});\r\n\r\nexport const fetchMovie = (id) => (dispatch) => {\r\n  return new Promise((resolve, reject) => {\r\n    imdb\r\n      .get(\"\", {\r\n        params: {\r\n          i: id,\r\n          plot: \"full\",\r\n        },\r\n      })\r\n      .then((response) => {\r\n        if (response.data.Title) {\r\n          dispatch(fetchMovieSuccess(response.data));\r\n          resolve();\r\n        }\r\n        if (response.data.Error) {\r\n          console.log(response.data.Error);\r\n          dispatch(fetchMovieError(response.data.Error));\r\n          reject();\r\n        }\r\n      });\r\n  });\r\n};\r\n","import React from \"react\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport { Form } from \"react-bootstrap\";\r\nimport { searchMovies } from \"../actions/imbdMoviesActions\";\r\nimport { connect } from \"react-redux\";\r\nimport \"./Search.css\";\r\nimport history from \"../history\";\r\n\r\nclass Search extends React.Component {\r\n  renderInput = (formProps) => {\r\n    return (\r\n      <div style={{ width: \"30%\", margin: \"auto\" }}>\r\n        <Form.Group>\r\n          <Form.Label className=\"label\">Search your Movie!</Form.Label>\r\n          <Form.Control {...formProps.input} />\r\n        </Form.Group>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  onSubmit = (values) => {\r\n    this.props.searchMovies(values.title, 1);\r\n    history.push(`/results/${values.title}/1`);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"searchFormDiv\">\r\n        <Form\r\n          className=\"search\"\r\n          onSubmit={this.props.handleSubmit(this.onSubmit)}\r\n        >\r\n          <Field name=\"title\" component={this.renderInput} />\r\n        </Form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    movies: state.imdbMovies,\r\n  };\r\n};\r\nconst wrappedForm = reduxForm({\r\n  form: \"Search\",\r\n})(Search);\r\n\r\nexport default connect(mapStateToProps, { searchMovies })(wrappedForm);\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst Vote = () => {\r\n  const loggedInUser = useSelector((state) => state.loggedInUser);\r\n  const link = () => {\r\n    if (loggedInUser.token === null) {\r\n      return \"/login\";\r\n    } else {\r\n      return \"/search\";\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Link to={link}>\r\n        <Button className=\"signInBtn btn\" variant=\"outline-danger\">\r\n          Vote!\r\n        </Button>\r\n      </Link>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Vote;\r\n","export default __webpack_public_path__ + \"static/media/logo.70c45592.png\";","import React from \"react\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Vote from \"./Vote\";\r\nimport logo from \"../images/logo.png\";\r\nimport \"./Welcome.css\";\r\n\r\nconst Welcome = () => {\r\n  return (\r\n    <div className=\"back\">\r\n      <div className=\"title\">\r\n        <div className=\"logodiv\">\r\n          <img src={logo} className=\"logo\" alt=\" logo\" />\r\n        </div>\r\n        <div className=\"seetop10\">\r\n          <Link to=\"/topMovies\">\r\n            <Button className=\"seetop10Btn btn\" variant=\"outline-warning\">\r\n              Latest Top10!\r\n            </Button>\r\n          </Link>\r\n        </div>\r\n\r\n        <div className=\"signIn\">\r\n          <Vote />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Welcome;\r\n","import React from \"react\";\r\nimport Search from \"./Search\";\r\nimport Welcome from \"./Welcome\";\r\n\r\nclass Home extends React.Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Search />\r\n        <Welcome />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Home;\r\n","import axios from \"axios\";\r\n\r\nexport default axios.create({\r\n  baseURL: \"http://localhost:3001\",\r\n});\r\n","import top10 from \"../apis/top10\";\r\n\r\nconst getTodayDate = () => {\r\n  const today = new Date();\r\n  const date =\r\n    today.getFullYear() + \"-\" + (today.getMonth() + 1) + \"-\" + today.getDate();\r\n  return date;\r\n};\r\n\r\nexport const fetchCurrentTop10OfUser = (userId) => {\r\n  const date = getTodayDate();\r\n  return async (dispatch) => {\r\n    const response = await top10.get(`/top10/?user=${userId}&date=${date}`);\r\n    dispatch({\r\n      type: \"GET_CURRENT_TOP10\",\r\n      payload: response.data[0],\r\n    });\r\n  };\r\n};\r\n\r\nexport const getTop10s = () => {\r\n  return async (dispatch) => {\r\n    const response = await top10.get(\"/top10\");\r\n\r\n    dispatch({\r\n      type: \"GET_TOP10S\",\r\n      payload: response.data,\r\n    });\r\n  };\r\n};\r\n\r\n//get call to see if top10 for date exists for the user\r\n\r\nexport const createTop10OfDay = (user) => {\r\n  const date = getTodayDate();\r\n  return async (dispatch) => {\r\n    const response = await top10.get(`/top10/?user=${user}&date=${date}`);\r\n    if (response.data.length === 0) {\r\n      const res = await top10.post(\"/top10/\", {\r\n        date: date,\r\n        user: user,\r\n        movies: [],\r\n        votes: 0,\r\n      });\r\n\r\n      dispatch({\r\n        type: \"CREATE_TOP10_FOR_USER\",\r\n        payload: res.data,\r\n      });\r\n      dispatch({\r\n        type: \"GET_CURRENT_TOP10\",\r\n        payload: res.data,\r\n      });\r\n    } else {\r\n      console.log(response.data);\r\n      dispatch({\r\n        type: \"GET_CURRENT_TOP10\",\r\n        payload: response.data[0],\r\n      });\r\n    }\r\n  };\r\n};\r\n\r\nexport const addVoteToTop10 = (user, movie) => {\r\n  const date = getTodayDate();\r\n  try {\r\n    return async (dispatch) => {\r\n      const response = await top10.get(`/top10/?user=${user}&date=${date}`);\r\n      if (Object.keys(response.data).length !== 0) {\r\n        const top10OfUser = response.data[0];\r\n        console.log(top10OfUser);\r\n        const res = await top10.put(`/top10/${top10OfUser.id}`, {\r\n          date: top10OfUser.date,\r\n          user: top10OfUser.user,\r\n          votes: top10OfUser.votes + 1,\r\n          movies: [...top10OfUser.movies, movie.data.Title],\r\n        });\r\n\r\n        dispatch({\r\n          type: \"ADD_VOTE_TO_TOP10\",\r\n          payload: res.data,\r\n        });\r\n        dispatch({\r\n          type: \"GET_CURRENT_TOP10\",\r\n          payload: res.data,\r\n        });\r\n      }\r\n    };\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n","import React from \"react\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport { connect } from \"react-redux\";\r\nimport { Button, Form, InputGroup } from \"react-bootstrap\";\r\nimport { login } from \"../actions/usersActions\";\r\nimport { createTop10OfDay } from \"../actions/top10Actions\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./Forms.css\";\r\nimport history from \"../history\";\r\n\r\nclass LoginForm extends React.Component {\r\n  state = { passwordShown: false };\r\n\r\n  togglePassword = () => {\r\n    this.setState({ passwordShown: this.state.passwordShown ? false : true });\r\n  };\r\n\r\n  showErrors = (meta) => {\r\n    if (meta.touched && meta.error) {\r\n      return <div>{meta.error}</div>;\r\n    }\r\n    return null;\r\n  };\r\n\r\n  renderInput = (props) => {\r\n    return (\r\n      <>\r\n        <Form.Label>{props.label}</Form.Label>\r\n        <InputGroup className=\"mb-3\">\r\n          <Form.Control\r\n            {...props.input}\r\n            type={props.type}\r\n            placeholder={props.placeholder}\r\n          />\r\n          {props.icon ? (\r\n            <InputGroup.Append>\r\n              <InputGroup.Text>\r\n                <i className={props.icon} onClick={this.togglePassword}></i>\r\n              </InputGroup.Text>\r\n            </InputGroup.Append>\r\n          ) : null}\r\n        </InputGroup>\r\n        <Form.Control.Feedback\r\n          type=\"invalid\"\r\n          style={{ display: \"block\", color: \"rgb(247, 10, 120)\" }}\r\n        >\r\n          {this.showErrors(props.meta)}\r\n        </Form.Control.Feedback>\r\n      </>\r\n    );\r\n  };\r\n\r\n  onSubmit = (formValues) => {\r\n    this.props.login(formValues);\r\n    setTimeout(() => {\r\n      this.props.createTop10OfDay(this.props.loggedInUser.id);\r\n      if (this.props.loggedInUser.isSignedIn) {\r\n        toast.warning(`Welcome ${this.props.loggedInUser.username}!`);\r\n      }\r\n      if (this.props.error !== null && !this.props.loggedInUser.isSignedIn) {\r\n        console.log(this.props.error);\r\n        toast.error(\"Incorrect username or Password\");\r\n      }\r\n    }, 1000);\r\n    setTimeout(() => history.push(\"/\"), 5000);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"container login\">\r\n        <Form onSubmit={this.props.handleSubmit(this.onSubmit)}>\r\n          <Field\r\n            label=\"Email address\"\r\n            name=\"email\"\r\n            type=\"email\"\r\n            placeholder=\"email\"\r\n            component={this.renderInput}\r\n          />\r\n\r\n          <Field\r\n            name=\"password\"\r\n            label=\"Password\"\r\n            type={this.state.passwordShown ? \"text\" : \"password\"}\r\n            placeholder=\"Password\"\r\n            component={this.renderInput}\r\n            icon=\"bi bi-eye\"\r\n          />\r\n\r\n          <Button variant=\"outline-warning\" type=\"submit\">\r\n            Sign me In\r\n          </Button>\r\n          <div className=\"registerBtn\">\r\n            <Link to=\"/signup\">\r\n              <Button variant=\"outline-danger\">\r\n                Don't have an account? Register to Vote!\r\n              </Button>\r\n            </Link>\r\n          </div>\r\n        </Form>\r\n        <ToastContainer />\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst validate = (formValues) => {\r\n  const errors = {};\r\n  if (!formValues.email || !formValues.password) {\r\n    errors.email = \"Please enter email.\";\r\n    errors.password = \"Please enter password.\";\r\n  }\r\n  if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(formValues.email)) {\r\n    errors.email = \"Invalid email address\";\r\n  }\r\n  console.log(errors);\r\n  return errors;\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    loggedInUser: state.loggedInUser,\r\n    error: state.error,\r\n  };\r\n};\r\n\r\nconst wrappedForm = reduxForm({\r\n  form: \"Login\",\r\n  validate,\r\n})(LoginForm);\r\n\r\nexport default connect(mapStateToProps, { login, createTop10OfDay })(\r\n  wrappedForm\r\n);\r\n","import axios from \"axios\";\r\n\r\nexport default axios.create({\r\n  baseURL: \"http://localhost:3001\",\r\n});\r\n","import movies from \"../apis/movies\";\r\nimport {\r\n  GET_TOP_MOVIES,\r\n  GET_ALL_APP_MOVIES,\r\n  ADD_VOTE,\r\n  VOTE_MOVIE_ERROR,\r\n  VOTE_MOVIE_SUCCESS,\r\n} from \"./types\";\r\n\r\nexport const voteMovieSuccess = (data) => ({\r\n  type: VOTE_MOVIE_SUCCESS,\r\n  payload: data,\r\n});\r\n\r\nexport const voteMovieError = (error) => ({\r\n  type: VOTE_MOVIE_ERROR,\r\n  payload: error,\r\n});\r\n\r\nexport const voteMovie = (values) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const response = await movies.post(\"/movies\", {\r\n        Title: values.data.Title,\r\n        Year: values.data.Year,\r\n        id: values.data.imdbID,\r\n        Poster: values.data.Poster,\r\n        Votes: 1,\r\n      });\r\n\r\n      if (response.data.Title) {\r\n        dispatch(voteMovieSuccess(response.data));\r\n      }\r\n\r\n      if (response.data.Error) {\r\n        console.log(response.data.Error);\r\n        dispatch(voteMovieError(response.data.Error));\r\n      }\r\n    } catch (error) {\r\n      dispatch(voteMovieError(error));\r\n    }\r\n  };\r\n};\r\n\r\nexport const addVote = (id) => {\r\n  return async (dispatch) => {\r\n    const response = await movies.get(`/movies/${id}`);\r\n\r\n    if (response.data) {\r\n      const res = await movies.put(`/movies/${id}`, {\r\n        ...response.data,\r\n        Votes: response.data.Votes + 1,\r\n      });\r\n\r\n      dispatch({\r\n        type: ADD_VOTE,\r\n        payload: res.data,\r\n      });\r\n    }\r\n  };\r\n};\r\n\r\nexport const getTopMovies = () => {\r\n  let sortedList = [];\r\n  return async (dispatch) => {\r\n    const response = await movies.get(\"/movies\");\r\n    console.log(response.data);\r\n    if (response.data.length > 0) {\r\n      sortedList = response.data.sort((a, b) =>\r\n        a.Votes < b.Votes\r\n          ? 1\r\n          : a.Votes === b.Votes\r\n          ? a.Title > b.Title\r\n            ? 1\r\n            : -1\r\n          : -1\r\n      );\r\n    }\r\n\r\n    console.log(sortedList.length);\r\n    if (sortedList.length > 9) {\r\n      sortedList = sortedList.slice(0, 10);\r\n    }\r\n    dispatch({\r\n      type: GET_TOP_MOVIES,\r\n      payload: sortedList,\r\n    });\r\n  };\r\n};\r\n\r\nexport const getAllAppMovies = () => {\r\n  return async (dispatch) => {\r\n    const response = await movies.get(\"/movies\");\r\n\r\n    dispatch({\r\n      type: GET_ALL_APP_MOVIES,\r\n      payload: response.data,\r\n    });\r\n  };\r\n};\r\n","import React from \"react\";\r\nimport { getAllAppMovies, addVote } from \"../actions/appMovies\";\r\nimport { fetchMovie } from \"../actions/imbdMoviesActions\";\r\nimport { connect } from \"react-redux\";\r\nimport \"./MovieDisplay.css\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport { voteMovie } from \"../actions/appMovies\";\r\nimport {\r\n  addVoteToTop10,\r\n  getTop10s,\r\n  fetchCurrentTop10OfUser,\r\n} from \"../actions/top10Actions\";\r\nimport history from \"../history\";\r\n\r\nclass MovieDisplay extends React.Component {\r\n  state = { movieVotes: 0, userTop10Votes: 0 };\r\n\r\n  componentDidMount() {\r\n    this.props.fetchMovie(this.props.id);\r\n    this.props.getAllAppMovies();\r\n    this.props.getTop10s();\r\n  }\r\n\r\n  runMoreRequests = () => {\r\n    this.props.fetchCurrentTop10OfUser(this.props.loggedInUser.id);\r\n  };\r\n\r\n  doesMovieExistInAppMovies = () => {\r\n    const exists = this.props.movies.some((ele) => {\r\n      return ele.id === this.props.id;\r\n    });\r\n    return exists;\r\n  };\r\n\r\n  movieAlreadyVoted = (movies) => {\r\n    const exists = movies.some((ele) => {\r\n      return ele === this.props.movie.data.Title;\r\n    });\r\n    return exists;\r\n  };\r\n\r\n  getMovieById = (id) => {\r\n    const movie = this.props.movies.find((movie) => movie.id === id);\r\n    return movie;\r\n  };\r\n\r\n  getTodayDate = () => {\r\n    const today = new Date();\r\n    const date =\r\n      today.getFullYear() +\r\n      \"-\" +\r\n      (today.getMonth() + 1) +\r\n      \"-\" +\r\n      today.getDate();\r\n    return date;\r\n  };\r\n\r\n  userTop10VoteSucceeded = () => {\r\n    const userTop10Votes = this.props.currentTopListOfUser.votes;\r\n    if (userTop10Votes > this.state.userTop10Votes) {\r\n      return true;\r\n    }\r\n    return false;\r\n  };\r\n\r\n  voteFirstTime = () => {\r\n    this.props.voteMovie(this.props.movie);\r\n    setTimeout(() => this.renderMessageFirstVoted(), 1000);\r\n  };\r\n\r\n  voteAgain = () => {\r\n    this.setState({\r\n      votes: this.getMovieById(this.props.id).Votes,\r\n    });\r\n    this.props.addVote(this.props.id);\r\n    setTimeout(() => this.renderMessageVotedAgain(), 1000);\r\n  };\r\n\r\n  vote = () => {\r\n    if (this.props.loggedInUser.isSignedIn) {\r\n      this.runMoreRequests();\r\n      setTimeout(() => {\r\n        this.setState({\r\n          userTop10Votes: this.props.currentTopListOfUser.votes,\r\n        });\r\n        const alreadyVoted = this.movieAlreadyVoted(\r\n          this.props.currentTopListOfUser.movies\r\n        );\r\n        if (!alreadyVoted) {\r\n          this.props.addVoteToTop10(\r\n            this.props.loggedInUser.id,\r\n            this.props.movie\r\n          );\r\n        } else {\r\n          toast.error(\"You have already voted for that movie today!\");\r\n          setTimeout(() => history.goBack(), 5000);\r\n        }\r\n        const exists = this.doesMovieExistInAppMovies();\r\n        if (exists) {\r\n          this.voteAgain();\r\n        } else {\r\n          this.voteFirstTime();\r\n        }\r\n      }, 2000);\r\n    } else {\r\n      toast.error(\"Please sign In in order to Vote!\");\r\n      setTimeout(() => history.push(\"/login\"), 5000);\r\n    }\r\n  };\r\n\r\n  renderMessageFirstVoted = () => {\r\n    const userTop10 = this.props.currentTopListOfUser;\r\n    setTimeout(() => {\r\n      const userTop10Votes = userTop10.votes;\r\n      const userTop10VoteSucceeded = this.userTop10VoteSucceeded();\r\n      const movieJustVoted = this.props.movies.find(\r\n        (movie) => movie.Title === this.props.movie.data.Title\r\n      );\r\n      if (movieJustVoted !== undefined && userTop10VoteSucceeded) {\r\n        this.renderVoteSuccess(\r\n          this.props.loggedInUser.username,\r\n          userTop10Votes\r\n        );\r\n      }\r\n    }, 2000);\r\n  };\r\n\r\n  renderVoteSuccess = (username, votes) => {\r\n    if (this.state.userTop10Votes < 9) {\r\n      toast.success(\r\n        `Thank you for your vote ${username}! You have a maximum of ${\r\n          10 - votes\r\n        } votes left for today to complete your top10!`\r\n      );\r\n      setTimeout(() => history.goBack(), 5000);\r\n    }\r\n    if (this.state.userTop10Votes === 9) {\r\n      toast.success(\r\n        `Your top10 is Complete ${username}! Thank you for voting!`\r\n      );\r\n      setTimeout(\r\n        () => history.push(`/completeTop10/${this.props.loggedInUser.id}`),\r\n        5000\r\n      );\r\n    }\r\n  };\r\n\r\n  renderMessageVotedAgain = () => {\r\n    const userTop10Votes = this.props.currentTopListOfUser.votes;\r\n    const userTop10VoteSucceeded = this.userTop10VoteSucceeded();\r\n    const votedMovieVotes = this.props.movies.find(\r\n      (movie) => movie.Title === this.props.movie.data.Title\r\n    ).Votes;\r\n    if (votedMovieVotes > this.state.movieVotes && userTop10VoteSucceeded) {\r\n      this.renderVoteSuccess(this.props.loggedInUser.username, userTop10Votes);\r\n    }\r\n  };\r\n\r\n  renderError = () => {\r\n    if (this.props.movie.error !== null) {\r\n      return (\r\n        <div style={{ color: \"white\", textAlign: \"center\" }}>\r\n          {this.props.movie.error}\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\n  renderMovie = () => {\r\n    if (this.props.movie.data) {\r\n      return (\r\n        <div className=\"movie_card\" id=\"bright\">\r\n          <div className=\"info_section\">\r\n            <div className=\"movie_header\">\r\n              {this.props.movie.data.Poster === \"N/A\" ? (\r\n                <div style={{ color: \"white\" }}>\r\n                  Poster not available in Server\r\n                </div>\r\n              ) : (\r\n                <img className=\"locandina\" src={this.props.movie.data.Poster} />\r\n              )}\r\n              <div className=\"allText\">\r\n                <h1 className=\"txt\">{this.props.movie.data.Title}</h1>\r\n                <h5 className=\"txt\">{`${this.props.movie.data.Year} , ${this.props.movie.data.Director}`}</h5>\r\n                <h4 className=\"txt\">{this.props.movie.data.Actors}</h4>\r\n                <h6 className=\"txt\">{`Writen by: ${this.props.movie.data.Writer}`}</h6>\r\n                <p className=\" txt  type\">{this.props.movie.data.Genre}</p>\r\n                {this.props.movie.Awards !== \"N/A\" ? (\r\n                  <p className=\" txt  type\">{this.props.movie.data.Awards}</p>\r\n                ) : null}\r\n\r\n                <div className=\"movie_desc\">\r\n                  <p className=\" txt text\">{this.props.movie.data.Plot}</p>\r\n                </div>\r\n\r\n                <div>\r\n                  <Button onClick={this.vote} variant=\"outline-danger\">\r\n                    Vote for it!\r\n                  </Button>\r\n                  <Button\r\n                    onClick={() =>\r\n                      history.push(\r\n                        `/completeTop10/${this.props.loggedInUser.id}`\r\n                      )\r\n                    }\r\n                    variant=\"outline-warning\"\r\n                  >\r\n                    I am Done Voting\r\n                  </Button>\r\n                  <ToastContainer />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"blur_back bright_back\"></div>\r\n        </div>\r\n      );\r\n    } else {\r\n      return <div>...</div>;\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <div>{this.renderError()}</div>\r\n        <div>{this.renderMovie()}</div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    id: ownProps.match.params.id,\r\n    movie: state.selectedMovie,\r\n    movies: state.movies,\r\n    loggedInUser: state.loggedInUser,\r\n    usersTop10s: state.allUserTop10,\r\n    currentTopListOfUser: state.currentTopListOfUser,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n  fetchMovie,\r\n  voteMovie,\r\n  getAllAppMovies,\r\n  addVoteToTop10,\r\n  getTop10s,\r\n  fetchCurrentTop10OfUser,\r\n  addVote,\r\n})(MovieDisplay);\r\n","import React from \"react\";\r\nimport { Card, Button } from \"react-bootstrap\";\r\nimport { connect } from \"react-redux\";\r\nimport { searchMovies } from \"../actions/imbdMoviesActions\";\r\nimport { fetchMovie } from \"../actions/imbdMoviesActions\";\r\nimport \"./Movie.css\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass Movie extends React.Component {\r\n  render() {\r\n    return this.props.movie ? (\r\n      <div className=\"movie\">\r\n        <Card className=\"card\" style={{ width: \"18rem\" }}>\r\n          <Card.Img\r\n            className=\"image\"\r\n            variant=\"top\"\r\n            src={this.props.movie.Poster}\r\n          />\r\n          <Card.Body className=\"cardBody\">\r\n            <Card.Title className=\"cardText\">\r\n              {this.props.movie.Title}\r\n            </Card.Title>\r\n            <div className=\"cardText\">\r\n              <Card.Text>Year : {this.props.movie.Year}</Card.Text>\r\n            </div>\r\n          </Card.Body>\r\n          <div className=\"more\">\r\n            <Link\r\n              className=\"button button-primary\"\r\n              to={`/movie/${this.props.movie.imdbID}`}\r\n            >\r\n              <Button variant=\"outline-warning\">More</Button>\r\n            </Link>\r\n          </div>\r\n        </Card>\r\n      </div>\r\n    ) : null;\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    movie: ownProps.movie,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, { searchMovies, fetchMovie })(Movie);\r\n","import React from \"react\";\r\nimport Movie from \"./Movie\";\r\nimport { connect } from \"react-redux\";\r\nimport \"./MovieList.css\";\r\nimport { searchMovies } from \"../actions/imbdMoviesActions\";\r\n\r\nclass MovieList extends React.Component {\r\n  render() {\r\n    if (this.props.movies.length > 0) {\r\n      const renderedList = this.props.movies.map((movie, index) => {\r\n        return (\r\n          <div key={index} className=\"item\">\r\n            <Movie movie={movie} />\r\n          </div>\r\n        );\r\n      });\r\n\r\n      return <div className=\"grid\">{renderedList}</div>;\r\n    }\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    keyword: ownProps.keyword,\r\n    page: ownProps.page,\r\n    movies: ownProps.movies,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, { searchMovies })(MovieList);\r\n","import React from \"react\";\r\nimport MovieList from \"./MovieList\";\r\nimport { connect } from \"react-redux\";\r\nimport Search from \"./Search\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport { searchMovies } from \"../actions/imbdMoviesActions\";\r\nimport history from \"../history\";\r\n\r\nclass SearchResults extends React.Component {\r\n  componentDidMount() {\r\n    this.props.searchMovies(\r\n      this.props.match.params.keyword,\r\n      parseInt(this.props.match.params.page)\r\n    );\r\n  }\r\n\r\n  renderError = () => {\r\n    if (this.props.error !== null) {\r\n      return (\r\n        <h3 style={{ color: \"red\", textAlign: \"center\" }}>\r\n          {this.props.error}\r\n        </h3>\r\n      );\r\n    }\r\n  };\r\n\r\n  renderMovieList = () => {\r\n    if (this.props.movies.length > 0) {\r\n      return (\r\n        <div>\r\n          <Search />\r\n          <div>\r\n            <MovieList movies={this.props.movies} />\r\n          </div>\r\n          <div className=\"moreBtnDiv\">\r\n            <Button onClick={this.showMore} variant=\"danger\">\r\n              Load more Movies <i className=\"bi bi-arrow-right-square\"></i>\r\n            </Button>\r\n            <br />\r\n            {this.props.loggedInUser.isSignedIn ? (\r\n              <Button\r\n                onClick={() =>\r\n                  history.push(`/completeTop10/${this.props.loggedInUser.id}`)\r\n                }\r\n                variant=\"outline-warning\"\r\n              >\r\n                I am Done Voting\r\n              </Button>\r\n            ) : null}\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\n  showMore = () => {\r\n    const newPage = parseInt(this.props.page) + 1;\r\n    this.props.searchMovies(this.props.keyword, newPage);\r\n    setTimeout(\r\n      () => history.push(`/results/${this.props.keyword}/${newPage}`),\r\n      0\r\n    );\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <div>{this.renderError()}</div>\r\n        <div>{this.renderMovieList()}</div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    keyword: ownProps.match.params.keyword,\r\n    page: ownProps.match.params.page,\r\n    movies: state.imdbMovies,\r\n    loggedInUser: state.loggedInUser,\r\n    error: state.error,\r\n  };\r\n};\r\nexport default connect(mapStateToProps, { searchMovies })(SearchResults);\r\n","import React from \"react\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport { connect } from \"react-redux\";\r\nimport { Button, Form, InputGroup } from \"react-bootstrap\";\r\nimport { register, fetchUsers } from \"../actions/usersActions\";\r\nimport \"./Forms.css\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport history from \"../history\";\r\n\r\nclass SignUpForm extends React.Component {\r\n  state = { passwordShown: false, emailExists: false };\r\n\r\n  componentDidMount() {\r\n    this.props.fetchUsers();\r\n  }\r\n\r\n  showErrors = (meta) => {\r\n    if (meta.touched && meta.error) {\r\n      return <div>{meta.error}</div>;\r\n    }\r\n    return null;\r\n  };\r\n\r\n  togglePassword = () => {\r\n    this.setState({ passwordShown: this.state.passwordShown ? false : true });\r\n  };\r\n\r\n  renderInput = (props) => {\r\n    return (\r\n      <>\r\n        <Form.Label>{props.label}</Form.Label>\r\n        <InputGroup className=\"mb-3\">\r\n          <Form.Control\r\n            {...props.input}\r\n            type={props.type}\r\n            placeholder={props.placeholder}\r\n          />\r\n          {props.icon ? (\r\n            <InputGroup.Append>\r\n              <InputGroup.Text>\r\n                <i className={props.icon} onClick={this.togglePassword}></i>\r\n              </InputGroup.Text>\r\n            </InputGroup.Append>\r\n          ) : null}\r\n        </InputGroup>\r\n        <Form.Control.Feedback\r\n          type=\"invalid\"\r\n          style={{ display: \"block\", color: \"rgb(247, 10, 120)\" }}\r\n        >\r\n          {this.showErrors(props.meta)}\r\n        </Form.Control.Feedback>\r\n      </>\r\n    );\r\n  };\r\n\r\n  doesEmailExist = (formValues) => {\r\n    const exists = this.props.users.some((ele) => {\r\n      return ele.email === formValues.email;\r\n    });\r\n    return exists;\r\n  };\r\n\r\n  onSubmit = (formValues) => {\r\n    console.log(formValues);\r\n    const exists = this.doesEmailExist(formValues);\r\n    if (exists) {\r\n      this.setState({ emailExists: true });\r\n      toast.error(\r\n        \"Email Already Exists! Sign in if you already have an account.\"\r\n      );\r\n    } else {\r\n      this.props.register(formValues);\r\n      toast.success(\"Registration sucessfull!\");\r\n      setTimeout(() => history.push(\"/login\"), 3000);\r\n    }\r\n  };\r\n\r\n  renderHidden = (props) => {\r\n    return <input type={props.type} value={props.value} />;\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"container login\">\r\n        <Form onSubmit={this.props.handleSubmit(this.onSubmit)}>\r\n          <Field\r\n            name=\"username\"\r\n            type=\"text\"\r\n            component={this.renderInput}\r\n            placeholder=\"Username\"\r\n            label=\"Username\"\r\n          />\r\n\r\n          <Field\r\n            name=\"email\"\r\n            type=\"email\"\r\n            component={this.renderInput}\r\n            placeholder=\"Email\"\r\n            label=\"Email address\"\r\n          />\r\n\r\n          <Field\r\n            name=\"password\"\r\n            type={this.state.passwordShown ? \"text\" : \"password\"}\r\n            component={this.renderInput}\r\n            placeholder=\"password\"\r\n            label=\"Password\"\r\n            icon=\"bi bi-eye\"\r\n          />\r\n          <Field\r\n            name=\"password2\"\r\n            type={this.state.passwordShown ? \"text\" : \"password\"}\r\n            component={this.renderInput}\r\n            placeholder=\"Confirm Password\"\r\n            label=\"Password\"\r\n            icon=\"bi bi-eye\"\r\n          />\r\n\r\n          <br />\r\n          <Field\r\n            name=\"isSignedIn\"\r\n            type=\"hidden\"\r\n            value={false}\r\n            component={this.renderHidden}\r\n          />\r\n          <Button variant=\"secondary\" type=\"submit\">\r\n            Create My Account!\r\n          </Button>\r\n        </Form>\r\n        <ToastContainer />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst validate = (formValues) => {\r\n  const errors = {};\r\n  if (!formValues.username) {\r\n    errors.username = \"Required\";\r\n  }\r\n  if (!formValues.password) {\r\n    errors.password = \"Required\";\r\n  }\r\n\r\n  if (!formValues.password2) {\r\n    errors.password2 = \"Required\";\r\n  }\r\n\r\n  if (!formValues.email) {\r\n    errors.email = \"Required\";\r\n  } else if (\r\n    !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(formValues.email)\r\n  ) {\r\n    errors.email = \"Invalid email address\";\r\n  }\r\n\r\n  if (formValues.username && formValues.username.length < 3) {\r\n    errors.username = \"Username must be over 2 characters\";\r\n  }\r\n  if (formValues.password && formValues.password.length < 4) {\r\n    errors.password = \"Password must be at least 4 characters\";\r\n  }\r\n\r\n  if (formValues.password2 && formValues.password !== formValues.password2) {\r\n    errors.password2 = \"Passwords don't match\";\r\n  }\r\n\r\n  return errors;\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    users: state.users,\r\n  };\r\n};\r\n\r\nconst wrappedForm = reduxForm({\r\n  form: \"SignUp\",\r\n  validate,\r\n})(SignUpForm);\r\n\r\nexport default connect(mapStateToProps, { register, fetchUsers })(wrappedForm);\r\n","import React from \"react\";\r\nimport \"./TopMovieDisplay.css\";\r\n\r\nclass TopMovieDisplay extends React.Component {\r\n  render() {\r\n    return (\r\n      <div className=\"display\">\r\n        <h3> {`${this.props.position} . ${this.props.movie.Title}`}</h3>\r\n        <div className=\"cardImgDiv\">\r\n          <img className=\"cardImg\" src={this.props.movie.Poster} alt=\"Poster\" />\r\n        </div>\r\n        <div className=\"votes\">\r\n          <h6>{this.props.movie.Year}</h6>\r\n          <h5>{`Total Votes: ${this.props.movie.Votes}`}</h5>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default TopMovieDisplay;\r\n","import React from \"react\";\r\nimport { getTopMovies } from \"../actions/appMovies\";\r\nimport { connect } from \"react-redux\";\r\nimport TopMovieDisplay from \"./TopMovieDisplay\";\r\nimport Vote from \"./Vote\";\r\nimport \"./TopMovies.css\";\r\n\r\nclass TopMovies extends React.Component {\r\n  componentDidMount() {\r\n    this.props.getTopMovies();\r\n  }\r\n  render() {\r\n    const renderedList = this.props.top10.map((movie, index) => {\r\n      return (\r\n        <div className=\"topMovieDisplayDiv\" key={index}>\r\n          <TopMovieDisplay position={index + 1} movie={movie} />\r\n        </div>\r\n      );\r\n    });\r\n\r\n    return (\r\n      <div>\r\n        <div>{renderedList}</div>\r\n        <div className=\"signIn\">\r\n          <Vote />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    top10: state.top10AppMovies,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, { getTopMovies })(TopMovies);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { getTop10s, fetchCurrentTop10OfUser } from \"../actions/top10Actions\";\r\nimport { getAllAppMovies } from \"../actions/appMovies\";\r\nimport TopMovieDisplay from \"./TopMovieDisplay\";\r\n\r\nclass UserTop10Display extends React.Component {\r\n  state = { userMovies: [] };\r\n  componentDidMount() {\r\n    this.props.getAllAppMovies();\r\n    this.props.getTop10s();\r\n    this.props.fetchCurrentTop10OfUser(this.props.userId);\r\n  }\r\n\r\n  getMovieData = () => {\r\n    const userMovies = [];\r\n    if (Object.keys(this.props.currentTopListOfUser).length !== 0) {\r\n      const userTop10 = this.props.currentTopListOfUser;\r\n      const userTop10Titles = userTop10.movies;\r\n      const allAppMovies = this.props.appMovies;\r\n      for (var i = 0; i < allAppMovies.length; i++) {\r\n        let title = allAppMovies[i].Title;\r\n        for (var j = 0; j < userTop10Titles.length; j++) {\r\n          if (title === userTop10Titles[j]) {\r\n            userMovies.push(allAppMovies[i]);\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return userMovies;\r\n  };\r\n\r\n  render() {\r\n    let renderedList = [];\r\n    const userMovies = this.getMovieData();\r\n    if (userMovies.length !== 0) {\r\n      renderedList = userMovies.map((movie, index) => {\r\n        return (\r\n          <div className=\"topMovieDisplayDiv\" key={index}>\r\n            <TopMovieDisplay position={index + 1} movie={movie} />\r\n          </div>\r\n        );\r\n      });\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        {this.props.currentTopListOfUser.movies.length !== 0 ? (\r\n          <>\r\n            <h2 style={{ color: \"red\", textAlign: \"center\" }}>\r\n              Your Top Movies List!\r\n            </h2>\r\n            <div>{renderedList}</div>\r\n          </>\r\n        ) : (\r\n          <h3 style={{ color: \"red\", textAlign: \"center\" }}>\r\n            You havent voted any Movies yet.\r\n          </h3>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    userId: ownProps.match.params.id,\r\n    appMovies: state.movies,\r\n    allTop10s: state.allUserTop10,\r\n    currentTopListOfUser: state.currentTopListOfUser,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n  getAllAppMovies,\r\n  getTop10s,\r\n  fetchCurrentTop10OfUser,\r\n})(UserTop10Display);\r\n","import React from \"react\";\r\nimport {\r\n  Route,\r\n  Switch,\r\n} from \"react-router-dom\";\r\nimport Home from \"./Home\";\r\nimport LoginForm from \"./LoginForm\";\r\nimport MovieDisplay from \"./MovieDisplay\";\r\nimport SearchResults from \"./SearchResults\";\r\nimport SignUpForm from \"./SignUpForm\";\r\nimport TopMovies from \"./TopMovies\";\r\nimport Search from \"./Search\";\r\nimport UserTop10Display from \"./UserTop10Display\";\r\n\r\nexport default function Body() {\r\n  return (\r\n    <Switch>\r\n      <Route exact path=\"/\" component={Home} />\r\n      <Route exact path=\"/search\" component={Search} />\r\n      <Route path=\"/results/:keyword/:page\" component={SearchResults} />\r\n      <Route exact path=\"/movie/:id\" component={MovieDisplay} />\r\n      <Route exact path=\"/topMovies\" component={TopMovies} />\r\n      <Route exact path=\"/login\" component={LoginForm} />\r\n      <Route exact path=\"/signup\" component={SignUpForm} />\r\n      <Route exact path=\"/completeTop10/:id\" component={UserTop10Display} />\r\n    </Switch>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Router } from \"react-router-dom\";\r\nimport Header from \"./Header\";\r\nimport Body from \"./Body\";\r\nimport history from \"../history\";\r\nimport \"./App.css\";\r\nclass App extends React.Component {\r\n  render() {\r\n    return (\r\n      <Router history={history}>\r\n        <Header />\r\n        <Body />\r\n      </Router>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","const imdbReducer = (state = [], action) => {\r\n  switch (action.type) {\r\n    case \"SEARCH_MOVIES_SUCCESS\":\r\n      return action.payload;\r\n      default:\r\n      return state;\r\n  }\r\n};\r\nexport default imdbReducer;\r\n","const initialState = {\r\n  error: null,\r\n  data: null,\r\n};\r\n\r\nconst movieReducer = (state = initialState, action) => {\r\n  let newState = {};\r\n  switch (action.type) {\r\n    case \"FETCH_MOVIE_SUCCESS\":\r\n      newState = {\r\n        data: action.payload,\r\n        error: null,\r\n      };\r\n      return newState;\r\n    case \"FETCH_MOVIE_ERROR\":\r\n      newState = {\r\n        data: null,\r\n        error: action.payload,\r\n      };\r\n      return newState;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default movieReducer;\r\n","import {\r\n  FETCH_USERS,\r\n  UPDATE_USER,\r\n  DELETE_USER,\r\n  LOGIN\r\n} from \"../actions/types\";\r\n\r\nconst userReducer = (state = [], action) => {\r\n  switch (action.type) {\r\n    case FETCH_USERS:\r\n      return action.payload;\r\n      case LOGIN:\r\n    case UPDATE_USER:\r\n      return state.map((user) =>\r\n        user.email === action.payload.email ? action.payload : user\r\n      );\r\n    case DELETE_USER:\r\n      return state.filter((user) => user.email !== action.payload.email);\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default userReducer;\r\n","import { REGISTER, LOGIN, LOG_OUT } from \"../actions/types\";\r\n\r\nconst initialState = {\r\n  id: 0,\r\n  email: null,\r\n  username: null,\r\n  token: null,\r\n  isSignedIn: null,\r\n  top10: [],\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case REGISTER:\r\n      return action.payload;\r\n    case LOGIN:\r\n      return action.payload;\r\n    case LOG_OUT:\r\n      return initialState;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default authReducer;\r\n","import {\r\n  VOTE_MOVIE_SUCCESS,\r\n  VOTE_MOVIE_ERROR,\r\n  ADD_VOTE,\r\n  GET_ALL_APP_MOVIES,\r\n} from \"../actions/types\";\r\n\r\nconst appMoviesReducer = (movies = [], action) => {\r\n  switch (action.type) {\r\n    case GET_ALL_APP_MOVIES:\r\n      return action.payload;\r\n    case VOTE_MOVIE_SUCCESS:\r\n      return [...movies, action.payload];\r\n    case VOTE_MOVIE_ERROR:\r\n      return movies;\r\n    case ADD_VOTE:\r\n      const newState = [...movies];\r\n      newState.map((movie) => {\r\n        if (action.payload.id === movie.id) {\r\n          movie.Votes = action.payload.Votes;\r\n        }\r\n      });\r\n      return newState;\r\n    default:\r\n      return movies;\r\n  }\r\n};\r\n\r\nexport default appMoviesReducer;\r\n","const appTop10Reducer = (state = [], action) => {\r\n  switch (action.type) {\r\n    case \"GET_TOP10S\":\r\n      return action.payload;\r\n    case \"CREATE_TOP10_FOR_USER\":\r\n      return [...state, action.payload];\r\n    case \"ADD_VOTE_TO_TOP10\":\r\n      const newState = [...state];\r\n      newState.map((top10) => {\r\n        if (action.payload.id === top10.id) {\r\n          top10.votes = action.payload.votes;\r\n          top10.movies = action.payload.movies;\r\n        }\r\n      });\r\n      return newState;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default appTop10Reducer;\r\n","import { GET_TOP_MOVIES } from \"../actions/types\";\r\n\r\nconst top10AppMoviesReducer = (state = [], action) => {\r\n  switch (action.type) {\r\n    case GET_TOP_MOVIES:\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default top10AppMoviesReducer;\r\n","const userTop10Reducer = (state = null, action) => {\r\n  switch (action.type) {\r\n    case \"GET_CURRENT_TOP10\":\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default userTop10Reducer;\r\n","const errorReducer = (state = null, action) => {\r\n  switch (action.type) {\r\n    case \"MOVIE_NOT_FOUND\":\r\n      return action.payload;\r\n    case \"INCORRECT_USERNAME_OR_PASSWORD\":\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default errorReducer;\r\n","import { combineReducers } from \"redux\";\r\nimport { reducer as formReducer } from \"redux-form\";\r\nimport imdbReducer from \"./imdbReducer\";\r\nimport movieReducer from \"./movieReducer\";\r\nimport userReducer from \"./userReducer\";\r\nimport authReducer from \"./authReducer\";\r\nimport appMoviesReducer from \"./appMoviesReducer\";\r\nimport appTop10Reducer from \"./appTop10Reducer\";\r\nimport top10AppMoviesReducer from \"./top10AppMoviesReducer\";\r\nimport userTop10Reducer from \"./userTop10Reducer\";\r\nimport errorReducer from \"./errorReducer\";\r\n\r\nexport default combineReducers({\r\n  imdbMovies: imdbReducer,\r\n  form: formReducer,\r\n  selectedMovie: movieReducer,\r\n  users: userReducer,\r\n  loggedInUser: authReducer,\r\n  movies: appMoviesReducer,\r\n  top10AppMovies: top10AppMoviesReducer,\r\n  allUserTop10: appTop10Reducer,\r\n  currentTopListOfUser: userTop10Reducer,\r\n  error: errorReducer,\r\n});\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./components/App\";\r\nimport { Provider } from \"react-redux\";\r\nimport { applyMiddleware, createStore, compose } from \"redux\";\r\nimport reducers from \"./reducers\";\r\nimport thunk from \"redux-thunk\";\r\nimport { loadState, saveState } from \"./apis/localStorage\";\r\nconst persistedState = loadState();\r\nconst composeEnhancers =\r\n  (window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ &&\r\n    window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({\r\n      trace: true,\r\n      traceLimit: 25,\r\n    })) ||\r\n  compose;\r\nconst store = createStore(\r\n  reducers,\r\n  persistedState,\r\n  composeEnhancers(applyMiddleware(thunk))\r\n);\r\n\r\nstore.subscribe(() => {\r\n  saveState({\r\n    loggedInUser: store.getState().loggedInUser,\r\n    currentTopListOfUser: store.getState().currentTopListOfUser,\r\n  });\r\n});\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n\r\n  document.querySelector(\"#root\")\r\n);\r\n","//this fucntion will look at local storage by key,\r\n//retrieve a string and pass it as jspn\r\nexport const loadState = () => {\r\n  try {\r\n    const serializedState = localStorage.getItem(\"state\");\r\n    if (serializedState === null) {\r\n      return undefined;\r\n    }\r\n    return JSON.parse(serializedState);\r\n  } catch (err) {\r\n    return undefined;\r\n  }\r\n};\r\n\r\nexport const saveState = (state) => {\r\n  try {\r\n    const serializedState = JSON.stringify(state);\r\n    localStorage.setItem(\"state\", serializedState);\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n"],"sourceRoot":""}